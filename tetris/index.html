<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        height: 100vh;
        margin: 0;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }

      #glass {
        width: calc(45vh + 11px);
        height: calc(90vh + 21px);
        border-left: 4px red solid;
        border-right: 4px red solid;
        border-bottom: 4px red solid;
        box-sizing: content-box;
        position: relative;
      }
      #grid {
        width: 100%;
        height: 100%;
        position: relative;
        box-sizing: content-box;
      }
      #grid > * {
        width: 100%;
        height: 100%;
        box-sizing: content-box;
      }
      .vertical-lines {
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        flex-direction: row;
      }
      #horizontal-lines div:first-child {
        border-top: 1px solid gray;
      }
      #vertical-lines div:first-child {
        border-left: 1px solid red;
      }
      #vertical-lines div:last-child {
        border-right: 1px solid red;
      }
      .horizontal-lines div {
        height: 4.5vh;
        border-bottom: 1px solid gray;
        box-sizing: content-box;
      }
      .vertical-lines div {
        width: 4.5vh;
        height: 100%;
        border-right: 1px solid gray;
        box-sizing: content-box;
      }
      #figure {
        position: absolute;
        right: 4.5vh;
        top: calc(50% - 2 * 4.5vh - 4.5px);
      }
      .figure {
        width: calc(18vh + 5px); 
        height: calc(18vh + 5px); 
        position: relative;
        box-sizing: content-box;
      }
        .figure.hidden-grid .grid, 
        .figure.hidden-grid .rotateLabel {
          display: none;
        }

        .figure > *,
        .figure .content, 
        .figure .grid > * {
          height: 100%;
          width: 100%;
          box-sizing: content-box;
          position: absolute;
          left: 0;
          top: 0;
        }

        .figure .grid .horizontal-lines div:first-child {
          border-top: 1px solid red;
        }
        .figure .grid .horizontal-lines div:last-child {
          border-bottom: 1px solid red;
        }
        .figure .grid .vertical-lines div:first-child {
          border-left: 1px solid red;
        }
        .figure .grid .vertical-lines div:last-child {
          border-right: 1px solid red;
        }

        .figure .content div {
          position: absolute;
        }
        .figure .rotateLabel {
          width: 100%;
          position: absolute;
          top: calc(100% + 0.2em);
          text-align: center;
        }

      .figure.hidden-1 .content div:first-child {
        display: none;
      }  
      .figure.hidden-2 .content div:not(:first-child):not(:last-child) {
        display: none;
      }  
      .figure.hidden-3 .content div:last-child {
        display: none;
      }  

      .figure[letter="I"] .content div {
        background-color: lightblue;
      }

        .figure[letter="I"][rotate="0"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="I"][rotate="0"] .content div:first-child {
          top: 1px;
        }
        .figure[letter="I"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="I"][rotate="0"] .content div:last-child {
          top: calc(75% - 0.75px); 
        }

        .figure[letter="I"][rotate="90"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="I"][rotate="90"] .content div:first-child {
          left: calc(75% - 0.75px); 
        }
        .figure[letter="I"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="I"][rotate="90"] .content div:last-child {
         left: 1px;
        }

        .figure[letter="I"][rotate="180"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="I"][rotate="180"] .content div:first-child {
          top: calc(75% - 0.75px); 
        }
        .figure[letter="I"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="I"][rotate="180"] .content div:last-child {
          top: 1px;
        }

        .figure[letter="I"][rotate="270"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="I"][rotate="270"] .content div:first-child {
          left: 1px;
        }
        .figure[letter="I"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="I"][rotate="270"] .content div:last-child {
          left: calc(75% - 0.75px); 
        }

      .figure[letter="J"] .content div {
        background-color: blue;
      }
        .figure[letter="J"][rotate="0"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="J"][rotate="0"] .content div:first-child {
          top: 1px;
          height: calc(25% - 0.25px);
        }
        .figure[letter="J"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="J"][rotate="0"] .content div:last-child {
          left: 1px;
          top: calc(50% + 0.5px); 
          height: calc(25% - 1.25px);
          width: calc(25% - 0.25px);
        }

        .figure[letter="J"][rotate="90"] .content div {
          left: 1px;
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="J"][rotate="90"] .content div:first-child {
          left: calc(50% - 0.5px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="J"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          width: calc(50% - 1.5px);
        }
        .figure[letter="J"][rotate="90"] .content div:last-child {
          top: 1px;
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }

        .figure[letter="J"][rotate="180"] .content div {
          left: calc(25% + 0.75px);
          top: 1px;
          width: calc(25% - 1.25px);
        }
        .figure[letter="J"][rotate="180"] .content div:first-child {
          top: calc(50% - 0.5px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="J"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          height: calc(50% - 1.5px);
        }
        .figure[letter="J"][rotate="180"] .content div:last-child {
          left: calc(50% - 0.5px);
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }

        .figure[letter="J"][rotate="270"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="J"][rotate="270"] .content div:first-child {
          left: 1px;
          width: calc(25% - 0.25px);
        }
        .figure[letter="J"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="J"][rotate="270"] .content div:last-child {
          left: calc(50% + 0.5px);
          top: calc(50% - 0.5px);
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }

      .figure[letter="L"] .content div {
        background-color: orange;
      }

        .figure[letter="L"][rotate="0"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="L"][rotate="0"] .content div:first-child {
          top: 1px;
          height: calc(25% - 0.25px);
        }
        .figure[letter="L"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          top: 25%;
          height: calc(50% - 1px);
        }
        .figure[letter="L"][rotate="0"] .content div:last-child {
          left: calc(50% - 0.5px);
          top: calc(50% + 0.5px);
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }

        .figure[letter="L"][rotate="90"] .content div {
          left: 1px;
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="L"][rotate="90"] .content div:first-child {
          left: 50%;
          width: calc(25% - 1px);
        }
        .figure[letter="L"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          width: calc(50% - 1px);
        }
        .figure[letter="L"][rotate="90"] .content div:last-child {
          top: calc(50% - 1px);
          width: calc(25% - 2px);
          height: 25%; 
        }

        .figure[letter="L"][rotate="180"] .content div {
          left: calc(25% + 0.75px);
          top: 1px;
          width: calc(25% - 1.25px);
        }
        .figure[letter="L"][rotate="180"] .content div:first-child {
          top: calc(50% - 0.5px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="L"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          height: calc(50% - 1.5px);
        }
        .figure[letter="L"][rotate="180"] .content div:last-child {
          left: 1px;
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }

        .figure[letter="L"][rotate="270"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="L"][rotate="270"] .content div:first-child {
          left: 1px;
          width: calc(25% - 0.25px);
        }
        .figure[letter="L"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="L"][rotate="270"] .content div:last-child {
          left: calc(50% + 0.5px);
          top: 1px;
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }

      .figure[letter="O"] .content div {
        background-color: yellow;
      }

        .figure[letter="O"][rotate="0"] .content div {
          top: 1px;
          left: calc(25% - 0.25px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="O"][rotate="0"] .content div:first-child {
          height: calc(25% - 1.25px);
        }
        .figure[letter="O"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          left: 1px;
          width: calc(25% - 1.25px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="O"][rotate="0"] .content div:last-child {
          top: calc(25% - 0.25px);
          height: calc(25% - 0.25px);
        }

        .figure[letter="O"][rotate="90"] .content div {
          left: 1px;
          height: calc(25% - 0.25px);
          top: calc(25% - 0.25px);
        }
        .figure[letter="O"][rotate="90"] .content div:first-child {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="O"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          top: 1px;
          height: calc(25% - 1.25px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="O"][rotate="90"] .content div:last-child {
          width: calc(25% - 0.25px);
        }

        .figure[letter="O"][rotate="180"] .content div {
          left: 1px;
          top: 1px;
          width: calc(25% - 0.25px);
        }
        .figure[letter="O"][rotate="180"] .content div:first-child {
          left: 1px;
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="O"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="O"][rotate="180"] .content div:last-child {
          height: calc(25% - 0.25px);
        }

        .figure[letter="O"][rotate="270"] .content div {
          top: 1px;
          left: 1px;
          height: calc(25% - 0.25px);
        }
        .figure[letter="O"][rotate="270"] .content div:first-child {
          width: calc(25% - 1.25px);
        }
        .figure[letter="O"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="O"][rotate="270"] .content div:last-child {
          left: calc(25% - 0.25px);
          width: calc(25% - 0.25px);
        }

      .figure[letter="S"] .content div {
        background-color: green;
      }

        .figure[letter="S"][rotate="0"] .content div {
          top: 1px;
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="0"] .content div:first-child {
          left: calc(50% - 0.5px); 
        }
        .figure[letter="S"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="0"] .content div:last-child {
          left: 1px;
          top: calc(25% + 0.75px);
        }
        
        .figure[letter="S"][rotate="90"] .content div {
          left: calc(25% + 0.75px);
          height: calc(25% - 0.25px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="90"] .content div:first-child {
          top: calc(50% - 0.5px); 
          left: calc(50% + 0.5px); 
        }
        .figure[letter="S"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="90"] .content div:last-child {
          top: 1px;
        }

        .figure[letter="S"][rotate="180"] .content div {
          top: calc(25% + 0.75px);
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="180"] .content div:first-child {
          left: 1px;
          top: calc(50% + 0.5px); 
        }
        .figure[letter="S"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="S"][rotate="180"] .content div:last-child {
          left: calc(50% - 0.5px); 
        }

        .figure[letter="S"][rotate="270"] .content div {
          left: 1px;
          height: calc(25% - 0.25px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="S"][rotate="270"] .content div:first-child {
          top: 1px;
        }
        .figure[letter="S"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="S"][rotate="270"] .content div:last-child {
          left: calc(25% + 0.75px);
          top: calc(50% - 0.5px); 
        }

      .figure[letter="T"] .content div {
        background-color: purple
      }
        .figure[letter="T"][rotate="0"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="T"][rotate="0"] .content div:first-child {
          left: 1px;
        }
        .figure[letter="T"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          left: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="T"][rotate="0"] .content div:last-child {
          left: calc(50% - 0.5px);
        }

        .figure[letter="T"][rotate="90"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="T"][rotate="90"] .content div:first-child {
          top: 1px;
        }
        .figure[letter="T"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          left: 1px;
          top: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="T"][rotate="90"] .content div:last-child {
          top: calc(50% - 0.5px);
        }

        .figure[letter="T"][rotate="180"] .content div {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(25% - 0.25px);
        }
        .figure[letter="T"][rotate="180"] .content div:first-child {
          left: calc(50% - 0.5px);
        }
        .figure[letter="T"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          top: 1px;
          left: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="T"][rotate="180"] .content div:last-child {
          left: 1px;
        }

        .figure[letter="T"][rotate="270"] .content div {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(25% - 0.25px);
        }
        .figure[letter="T"][rotate="270"] .content div:first-child {
          top: calc(50% - 0.5px);
        }
        .figure[letter="T"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          top: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="T"][rotate="270"] .content div:last-child {
          top: 2px;
        }

      .figure[letter="Z"] .content div {
        background-color: red;
      }
        .figure[letter="Z"][rotate="0"] .content div {
          top: 1px;
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="0"] .content div:first-child {
          left: calc(50% - 0.5px); 
          top: calc(25% + 0.75px);
        }
        .figure[letter="Z"][rotate="0"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          height: calc(50% - 1.5px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="0"] .content div:last-child {
          left: 1px;
        }
 
        .figure[letter="Z"][rotate="90"] .content div {
          left: calc(25% + 0.75px);
          height: calc(25% - 0.25px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="90"] .content div:first-child {
          top: calc(50% - 0.5px); 
        }
        .figure[letter="Z"][rotate="90"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          width: calc(50% - 1.5px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="90"] .content div:last-child {
          left: calc(50% + 0.5px); 
          top: 1px;
        }

        .figure[letter="Z"][rotate="180"] .content div {
          top: calc(25% + 0.75px);
          width: calc(25% - 0.25px);
          height: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="180"] .content div:first-child {
          left: 1px;
        }
        .figure[letter="Z"][rotate="180"] .content div:not(:first-child):not(:last-child) {
          left: calc(25% + 0.75px);
          width: calc(25% - 1.25px);
          height: calc(50% - 1.5px);
        }
        .figure[letter="Z"][rotate="180"] .content div:last-child {
          left: calc(50% - 0.5px); 
          top: calc(50% + 0.5px); 
        }

        .figure[letter="Z"][rotate="270"] .content div {
          left: 1px;
          height: calc(25% - 0.25px);
          width: calc(25% - 1.25px);
        }
        .figure[letter="Z"][rotate="270"] .content div:first-child {
          left: calc(25% + 0.75px);
          top: 1px;
        }
        .figure[letter="Z"][rotate="270"] .content div:not(:first-child):not(:last-child) {
          top: calc(25% + 0.75px);
          height: calc(25% - 1.25px);
          width: calc(50% - 1.5px);
        }
        .figure[letter="Z"][rotate="270"] .content div:last-child {
          top: calc(50% - 0.5px); 
        }

    </style>
    <script>
      // == Шпаргалка
      // commit:
      //   CTRL+SHIFT+P
      //   Git:Status
      //   C
      //   ввести комментарий к коммиту
      //   CTRL+W
      // git push: "вытолкнуть" свои измения на сервер
      //   Win+R
      //   cmd.exe
      //   cd Documents\bikuzin.baza-winner.ru
      //   git push
      // git pull: "подтянуть" чужие изменения с сервера
      //   Win+R
      //   cmd.exe
      //   cd Documents\bikuzin.baza-winner.ru
      //   git pull
      (function() {
        'use strict';
        const figuresDef = {
          'I': {},
          'J': {},
          'L': {},
          'O': {},
          'S': {},
          'T': {},
          'Z': {},
        };

        function drawLines(id, count) {
          document.getElementById(id).innerHTML = '<div></div>'.repeat(count);
        }
        // function createFigure(letter) {
        //   console.log('createFigure')
        //   const result = document.createElement('div');
        //   result.className = 'figure ' + letter;
        //   result.innerHTML = '<div></div>'.repeat(3);
        //   const left = 'I' == letter ? '50%' : '40%';
        //   result.style = 'top: .05px; left: ' + left;
        //   return result;
        // }
        let currentFigure, currentLetter, currentRotate, currentColor, currentPosition;
        document.addEventListener('DOMContentLoaded', function(event) {
          drawLines('horizontal-lines', 20);
          drawLines('vertical-lines', 10);
          currentFigure = document.getElementById('figure');
          setCurrentRotate();
          setCurrentColor();
          setCurrentLetter();
          setCurrentPosition();
          for (let i = 1; i <= 3; i++) setCurrentHiddenFugurePart(i);
          setCurrentHiddenFugureGrid();
        });
        function getSettings() {
          let settingsJson = sessionStorage.getItem('settings'); 
          let settings;
          if (settingsJson) {
            try {
              settings = JSON.parse(settingsJson);
            } catch (e) {
              console.error(e);
            }
          } 
          if (!settings) {
            settings = {};
          }
          return settings;
        }
        function setHelper(newValue, valueName, defaultValue) {
          let settings = getSettings();
          if (null != newValue) {
            settings[valueName] = newValue;
            sessionStorage.setItem('settings', JSON.stringify(settings));
          } else if (settings.hasOwnProperty(valueName)) {
            newValue = settings[valueName];
          } else {
            newValue = defaultValue;
          }
          return newValue;
        }
        function setCurrentRotate(newValue) {
          newValue = setHelper(newValue, 'currentRotate', 0);
          currentFigure.querySelector('.rotateLabel').innerText = newValue;
          currentFigure.setAttribute('rotate', newValue);
          currentRotate = parseInt(newValue, 10);
        }
        function setCurrentColor(newValue) {
          newValue = setHelper(newValue, 'currentColor', 'yellow');
          Array.prototype.slice
            .call(currentFigure.querySelectorAll('.content div'))
            .map(element => {
              element.style.backgroundColor = newValue;
            })
          ;
          currentColor = newValue;
        } 
        function setCurrentLetter(newValue) {
          newValue = setHelper(newValue, 'currentLetter', 'I');
          currentFigure.setAttribute('letter', newValue);
          currentLetter = newValue;
        }
        function setCurrentPosition(newValue) {
          newValue = setHelper(newValue, 'currentPosition', '');
          if ('' == newValue) {
            currentFigure.style.left = '';
          } else {
            currentFigure.style.left = 'calc(50% - 2 * 4.5vh - 2.5px)';
          }
          currentPosition = newValue;
        }
        function setCurrentHiddenFugurePart(number, newValue) {
          newValue = setHelper(newValue, 'hidden-figure-part-' + number, false);
          if (!newValue) {
            currentFigure.classList.remove('hidden-' + number);
          } else {
            currentFigure.classList.add('hidden-' + number);
          }
        }
        function getCurrentHiddenFigurePart(number) {
          return currentFigure.classList.contains('hidden-' + number);
        }
        function setCurrentHiddenFugureGrid(newValue) {
          newValue = setHelper(newValue, 'hidden-figure-grid', false);
          if (!newValue) {
            currentFigure.classList.remove('hidden-grid');
          } else {
            currentFigure.classList.add('hidden-grid');
          }
        }
        function getCurrentHiddenFigureGrid(number) {
          return currentFigure.classList.contains('hidden-grid');
        }
        document.addEventListener('keydown', function(event) {
          // if ('ArrowUp' == event.code || 'ArrowDown' == event.code) {
          //   setCurrentRotate((360 + currentRotate + ('ArrowUp' == event.code ? 90 : -90)) % 360);
          // } else 
          if ('ArrowLeft' == event.code) {
            // if ()
          } else if ('ArrowRight' == event.code) {

          } else {
            let letter; 
            if (event.code.startsWith('Key') && 4 == event.code.length) {
              letter = event.code[3];
            } else if (event.code.startsWith('Digit') && 6 == event.code.length) {
              letter = event.code[5];
            }
            if (letter) {
              if (figuresDef[letter]) {
                setCurrentLetter(letter);
              } else if ('1' <= letter && letter <= '3') {
                setCurrentHiddenFugurePart(letter, !getCurrentHiddenFigurePart(letter))
              } else if ('H' == letter) {
                setCurrentHiddenFugureGrid(!getCurrentHiddenFigureGrid());
              } else if ('Y' == letter) {
                setCurrentColor('yellow');
              } else if ('B' == letter) {
                setCurrentColor('blue');
              } else if ('N' == letter) {
                setCurrentColor('');
              } else if ('G' == letter) {
                setCurrentPosition('' != currentPosition ? '' : '*');
              } else if ('Q' == letter || 'W' == letter) {
                setCurrentRotate((360 + currentRotate + ('W' == letter ? 90 : -90)) % 360);
              }
            }
          }
        });
      })();
    </script>
  </head>
  <body>
    <div id="glass">
      <div id="grid">
        <div id="horizontal-lines" class="horizontal-lines"></div>
        <div id="vertical-lines" class="vertical-lines"></div>
      </div>
    </div>
    <div id="figure" class="figure">
      <div class="grid">
        <div class="horizontal-lines">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
        <div class="vertical-lines">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
      <div class="content-wrapper">
        <div class="content">
          <div></div>
          <div></div>
          <div></div>
        </div>
        <div class="rotateLabel"></div>
      </div>
    </div>
  </body>
</html>
